name: MS Teams Deploy Card

on:
  push:
    branches:
      - '**'

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v3
    - name: Install Dependencies
      run: npm install node-fetch
    - name: Send failure notification
      uses: ./actions/fullReport
      with:
          prnumber: 123
          originBranch: origin
          destinationBranch: dev
          requestor: i3rotlher
          date: ${{ github.event.pull_request.created_at }}
          description: Kurzer Test
          dockerStatus: "success"
          frontendSuitsPassed: 2
          frontendSuitsFailed: 0
          frontendTestsPassed: 10
          frontendTestsFailed: 1
          frontendBottomText: Nix
          backendSuitsPassed: 7
          backendSuitsFailed: 3
          backendTestsPassed: 12
          backendTestsFailed: 45
          backendBottomText: Test Suit finished in 10 sec.
          sanityScenariosPassed: 10
          sanityScenariosFailed: 2
          sanityStepsPassed: 2
          sanityStepsFailed: 3
          sanityStepsSkipped: 5
          workflowLink: ${{ github.event.workflow_run.url }}
          webhook: ${{ secrets.MS_TEAMS_WEBHOOK_URI }}