<!--Scenario Header-->
<div [class.darkTheme]="isDark" class="uk-card uk-card-default padding" id="scenario">
  <div class="title">
    <div class="scenarioHeaderContainer">
      <div style="margin: auto 0">
        <span id="scenarioHeader" class="Smallnavigation2">Scenario</span>
          <dfn class="def"><span class="infoIcon uk-icon" uk-icon="info"></span>
            <span rel="def">Each scenario is an example describing a specific behavioral aspect of the system.
              It makes statements about how the system behaves when a particular action is executed taking into account certain preconditions.
              A scenario consists of individual steps:
                   Given (precondition),
                   When (action) and
                   Then (desired result)
            </span>
          </dfn>
      </div>
      <div>
        <button id="scenario_shift_left" class="scenarioTitle" *ngIf="!arrowLeft" data-uk-tooltip
        title="Previous Scenario" (click)="scenarioShiftLeft();">
        <em class="material-icons">keyboard_arrow_left</em>
        </button>
        <span *ngIf="this.selectedScenario" id="scenarioTitle" class="MediumHeadline5"># {{selectedScenario.name | titlecase}}</span>
        <button class="scenarioTitle pencil_icon" (click)="changeScenarioTitle();" data-uk-tooltip
        title="Change Scenario Title">
        <em class="material-icons">edit</em>
        </button>

        <button id="scenario_shift_right" class="scenarioTitle" *ngIf="!arrowRight" data-uk-tooltip
        title="Next Scenario" (click)="scenarioShiftRight();">
        <em class="material-icons">keyboard_arrow_right</em>
        </button>
      </div>
      <div style="justify-self: end;">
        <button id="new_scenario" class="scenarioTitle" [class.disabled]="testRunning" [disabled]="testRunning" uk-tooltip="Creates New Scenario" type="button" (click)="openCreateScenario()">
          <em class="material-icons">add</em>
          </button>
          <button id="saveButton" [class.disabled]="this.scenarioSaved()" [disabled]="this.scenarioSaved()" class="scenarioTitle" data-uk-tooltip
          title="Save Scenario" [ngClass]="{'iconButton_unsaved': this.selectedScenario.saved === false && this.selectedScenario.saved !== undefined}"
          (click)="updateScenario();">
          <em class="material-icons">save</em>
          </button>
          <button [class.disabled]="testRunning" [disabled]="testRunning"
          class="scenarioTitle" data-uk-tooltip title="Delete Scenario"
          (click)="deleteScenario();">
          <em class="material-icons">delete</em>
        </button>
      </div>
    </div>
  </div> 
  <app-base-editor [templateName]="'scenario'" [selectedScenario]="selectedScenario"
  [selectedStory]="selectedStory" [originalStepTypes]="originalStepTypes"></app-base-editor>
  <br>
  <div class="comment MediumButton1">
    <label>Comment</label><br>
    <textarea *ngIf="this.selectedScenario" cols="50" rows="5" #comment type="text" value="{{selectedScenario.comment}}" (change)="commentChange(comment.value)">
    </textarea>
  </div>
  <form class="daisyAutoLogout" *ngIf="this.showDaisyAutoLogout">
    <label>Auto Logout (Daisy)</label>
    <input type="checkbox" id="daisyAutoLogout" (change)="this.setDaisyAutoLogout($event.target.checked)" [defaultChecked]="this.selectedScenario.daisyAutoLogout">
  </form>
</div>

<app-rename-scenario #renameScenarioModal></app-rename-scenario>
<app-create-scenario #createScenarioModal (createScenarioEvent)="addScenarioToStory($event)"></app-create-scenario>

<!-- Example template TODO -->
<ng-template #exampleCondition>
  <!--Action bar-->
  <div class="scenarioBarContainer">
    <div class="actionBarButtonGroup">
      <input type="checkbox" class="checkbox" id="checkbox_all" (change)="checkAllSteps(null)" [checked]="this.allChecked" uk-tooltip title="Check All Steps">
      <div [class.disabled]="!this.activeActionBar">
        <button id="{{'scenario_addBlock_step'}}" class="actionButton" uk-tooltip title="Save Steps as Block"
        (click)="saveBlock();">
          <em class="material-icons">queue</em>
        </button>
        <button id="{{'scenario_' + i + '_example_deactivate_step_'}}"
          class="actionButton deactivateStepButton" uk-tooltip title="Deactivate Step"
          (click)="deactivateExampleStep();">
          <em class="material-icons">do_not_touch</em>
        </button>
        <button id="{{'scenario_' + i + '_example_delete_step_'}}"
        class="actionButton" uk-tooltip title="Delete Step"
        (click)="removeStepFromExample();">
          <em class="material-icons">delete</em>
        </button>
        <button id="{{'scenario_' + i + '_example_copy_step_'}}"
        class="actionButton" uk-tooltip title="Copy Step to Clipboard"
        (click)="copyBlockExample();">
          <em class="material-icons">content_copy</em>
        </button>
      </div>
    </div>
    <app-example-table #exampleChildView [isDark]="isDark" [newSelectedScenario]="selectedScenario" (checkRowIndex)="checkRowIndex($event)"></app-example-table>
  </div>
</ng-template>